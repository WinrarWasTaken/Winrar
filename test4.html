<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Vanthrudnir Arms — PDA Catalog (Preloaded)</title>
<style>
  :root{ --accent:#00eaff; --muted:#6fb7c6; --card:#041018; }
  html,body{height:100%;margin:0;background:linear-gradient(180deg,#02060a,#030a0f);font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, monospace;color:var(--accent)}
  .screen-wrap{min-height:100%;display:flex;align-items:center;justify-content:center;padding:18px}
  .pda{width:92vw;max-width:960px;border-radius:12px;padding:12px;background:linear-gradient(180deg, rgba(0,0,0,0.6), rgba(0,0,0,0.45));box-shadow:0 20px 60px rgba(0,0,0,0.7);border:1px solid rgba(0,255,255,0.06)}
  .status{display:flex;align-items:center;gap:8px;padding:6px 8px;color:var(--muted);font-size:13px}
  .status .spacer{flex:1}
  #clock{font-size:13px;color:var(--muted)}
  .terminal{margin-top:8px;background:linear-gradient(180deg,rgba(0,0,0,0.12),rgba(0,0,0,0.04));padding:12px;border-radius:8px;border:1px solid rgba(255,255,255,0.02)}
  .log{font-size:13px;color:var(--muted);max-height:150px;overflow:auto;padding:6px;border-left:3px solid rgba(0,234,255,0.06);background:linear-gradient(180deg, rgba(0,10,14,0.25), rgba(0,10,14,0.06))}
  .brand{display:flex;flex-direction:column;align-items:center;margin:10px 0}
  .brand h1{margin:0;font-size:18px;color:#bffcff}
  .brand h2{margin:2px 0;font-size:12px;color:var(--muted)}
  .divider{height:1px;background:linear-gradient(90deg, rgba(0,234,255,0.08), rgba(0,234,255,0.02));margin:10px 0;border-radius:2px}
  .content{color:#dff9ff;line-height:1.45}
  .controls{display:flex;gap:8px;margin-top:10px}
  input[type="text"], textarea{background:rgba(0,0,0,0.35);border:1px solid rgba(0,234,255,0.06);color:var(--accent);padding:8px;border-radius:6px;outline:none;width:100%}
  .btn{background:linear-gradient(90deg,#00f2ff,#00a7ca);color:#00120f;padding:8px 12px;border-radius:8px;border:none;cursor:pointer;font-weight:700}
  .btn.ghost{background:transparent;color:var(--muted);border:1px solid rgba(255,255,255,0.03)}
  /* Catalog viewer */
  .catalog{display:flex;gap:12px;margin-top:12px}
  .viewer{flex:1;min-height:360px;background:var(--card);padding:12px;border-radius:8px;border:1px solid rgba(255,255,255,0.02);display:flex;flex-direction:column;gap:8px}
  .thumbs{width:260px;max-width:28%;display:flex;flex-direction:column;gap:8px}
  .thumbs .thumb-list{display:flex;flex-direction:column;gap:8px;overflow:auto;max-height:420px;padding-right:6px}
  .thumb{display:flex;gap:8px;align-items:center;padding:6px;border-radius:6px;background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.00));cursor:pointer;border:1px solid rgba(255,255,255,0.02)}
  .thumb img{width:64px;height:48px;object-fit:cover;border-radius:4px}
  .thumb .meta{font-size:13px}
  .card-hero{height:260px;background:rgba(0,0,0,0.25);border-radius:8px;display:flex;align-items:center;justify-content:center;overflow:hidden;border:1px solid rgba(255,255,255,0.02)}
  .card-hero img{max-width:100%;max-height:100%;object-fit:contain}
  .card-title{font-size:16px;font-weight:700;color:#dff9ff}
  .card-sub{font-size:13px;color:var(--muted)}
  .card-desc{margin-top:6px;color:#dff9ff;font-size:14px;overflow:auto;max-height:110px}
  .nav-row{display:flex;gap:8px;align-items:center;justify-content:space-between}
  .thumb.active{outline:2px solid rgba(0,234,255,0.12)}
  /* responsive */
  @media (max-width:900px){ .catalog{flex-direction:column} .thumbs{width:100%;max-width:none;order:2} .viewer{order:1} }
  /* small PDA look tweaks */
  .pda { border-radius:14px; }
</style>
</head>
<body>
<div class="screen-wrap">
  <div class="pda">
    <div class="status">
      <div>PDA v3.1</div>
      <div class="spacer"></div>
      <div id="clock">--:--</div>
    </div>

    <div class="terminal">
      <div id="bootLog" class="log"></div>

      <div class="brand">
        <h1>VANTHRUDNIR ARMS INDUSTRIES</h1>
        <h2>OPERATIVE FILE — CATALOG ACCESS</h2>
      </div>

      <div class="divider"></div>

      <div id="signatureArea" class="content">
        <div id="agreeText">Your participation in joint training requires acceptance of VAI confidentiality. Type your signature below to continue.</div>
        <div style="margin-top:8px;display:flex;gap:8px">
          <input id="signature" placeholder="Type signature..." />
          <button class="btn" id="signBtn">Authorize</button>
        </div>
      </div>

      <div id="catalogArea" style="display:none; margin-top:12px">
        <div style="display:flex;flex-direction:column;gap:8px">
          <div class="nav-row">
            <div style="display:flex;gap:8px">
              <button class="btn" id="prevBtn">◀ Prev</button>
              <button class="btn" id="nextBtn">Next ▶</button>
            </div>
            <div style="display:flex;gap:8px;align-items:center">
              <button class="btn ghost" id="clearCatalog">Clear Catalog</button>
              <button class="btn" id="exportCsv">Export CSV</button>
            </div>
          </div>

          <div class="catalog">
            <div class="viewer">
              <div class="card-hero" id="hero"><div style="color:var(--muted)">No item loaded</div></div>
              <div style="display:flex;justify-content:space-between;align-items:center;margin-top:6px">
                <div>
                  <div class="card-title" id="gunTitle">—</div>
                  <div class="card-sub" id="gunSub">—</div>
                </div>
                <div style="font-size:12px;color:var(--muted)"><span id="indexLabel">0 / 0</span></div>
              </div>
              <div class="card-desc" id="gunDesc">No description</div>
            </div>

            <div class="thumbs">
              <div style="font-size:13px;color:var(--muted)">THUMBNAILS</div>
              <div class="thumb-list" id="thumbList"></div>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

<script>
/* ---------- Clock ---------- */
function updateClock(){ const el=document.getElementById("clock"); const d=new Date(); el.textContent=String(d.getHours()).padStart(2,"0")+":"+String(d.getMinutes()).padStart(2,"0"); }
updateClock(); setInterval(updateClock,30000);

/* ---------- Boot log typing ---------- */
const bootLines = [
  "> Initializing Secure Terminal...",
  "> Loading VAI-OS 7.3...",
  "> Establishing encrypted link...",
  "> Syncing gunsmith manifest..."
];
const bootLog = document.getElementById("bootLog");
let bootIdx=0;
function doBoot(){ if(bootIdx>=bootLines.length) return; const div=document.createElement("div"); div.textContent=bootLines[bootIdx]; bootLog.appendChild(div); bootLog.scrollTop=bootLog.scrollHeight; bootIdx++; setTimeout(doBoot,500); }
doBoot();

/* ---------- Preloaded guns (from your published Google Doc) ---------- */
let guns = [
  {
    id: "starflare",
    title: "VAIES EP-7 “Starflare”",
    subtitle: "Energy Pistol — Vanthrudnir Arms Industries",
    image: "https://lh7-rt.googleusercontent.com/docsz/AD_4nXcpPpdfEhLbHr-BZPNeV_WRTv3opTFMoko2ha0CXreMHRy9dhDGXnhP2ktvpL6ubZ306yoLnBb1EOlO6jX7W5BJEZh4ynE1AS3dTNrrxNBtIf4PPImxEN2OmrgHyjF7x1-98H2co-mtliJycd4QYt2FCvNy9EA?key=GL6KKFbwoLvnh-YmGZdb6w",
    description: "A compact sidearm powered by an oversized, snap-swap microcell battery. The Starflare fires ionized plasma spikes, compressed bolts of superheated particulate energy that leave thin, glowing trails in the air. Stable, low recoil, and ideal for rapid engagements.\n\nStarflare Operator Instructions:\n1. Power Check: Insert microcell battery until the locking click is heard. Hold trigger half press to confirm charge indicator.\n2. Firing Mode: Single shot only. Weapon regulates spike formation electronically.\n3. Cooling: After 20 consecutive shots, allow 3 seconds idle.\n4. Battery Swap: Press release lever, slide old cell out, insert new one at 15°.\n5. Safety Notes: Do not fire at surfaces adjacent to friendly personnel — plasma backsplash may cause burns."
  },
  {
    id: "kestrel",
    title: "VAIES MP-4 “Kestrel”",
    subtitle: "Magnetic Pistol — Vanthrudnir Arms Industries",
    image: "https://lh7-rt.googleusercontent.com/docsz/AD_4nXdT_NKqBRvt9TmQLvgkiIsCJxLKwPOEGhcnvE0mtxn3wYCC-H4sxjbKoF94Dq4ha4uuA3DxNf2TUWb1kiaEQhOWOa7fFqoEw86yFzXE0L3REBwLBm0-HWasyB0Hz0xj3TKlkXDIKi0u1ly0HUZ2-3Znk5KEEn8?key=GL6KKFbwoLvnh-YmGZdb6w",
    description: "A handheld magnetic accelerator pistol designed for stealth and precision. The Kestrel launches ferro ceramic flechettes using silent coil-pulse sequencing. Minimal muzzle flash, negligible recoil, and perfect for operators who demand clean, trace light impacts.\n\nKestrel Operator Instructions:\n1. Load Magazine: Insert flechette module until the green indicator toggles.\n2. Coil Charge: Weapon pre-charges when gripped; a soft hum indicates priming.\n3. Fire Discipline: Maintain short bursts or single shots to avoid overheating.\n4. Jam Clearing: If a flechette misaligns, rack the slide forward. Do not pull back.\n5. Safety Notes: Avoid placing near magnetic-sensitive equipment."
  },
  {
    id: "thunderline",
    title: "VAIES MS-12 “Thunderline”",
    subtitle: "Magnetic Shotgun — Vanthrudnir Arms Industries",
    image: "https://lh7-rt.googleusercontent.com/docsz/AD_4nXfrKWW-7HndOz0S2E_sfME1PXEU7lko1TLh96ObiTikcNLZWLwIym3urmosE09SAiyHaONsX8xLZ8wtgOpdM0EtKO0YvLg1_4MTvfy4ARK5C-Df79UTQIb4OpcscSAo31JC0D9FqxUgpIFd5Wwtcy0X9lV4zTs?key=GL6KKFbwoLvnh-YmGZdb6w",
    description: "A close quarters magnetic scatter system that fires a spread of fragmenting metal slugs, each accelerated along independent micro coils. The Thunderline delivers dense, high impact kinetic waves capable of shredding armor plating at short range. It hums audibly when charged.\n\nThunderline Operator Instructions:\n1. Load Chamber: Insert slug cartridge pack. MS-12 identifies and calibrates automatically.\n2. Charge Cycle: Hold the fore grip firmly; vibration indicates charging.\n3. Firing: Pull trigger fully for maximum acceleration.\n4. Spread Adjustment: Thumb dial toggles wide/medium/point patterns.\n5. Safety Notes: Do not fire at reinforced walls at close distance — fragment rebounds are dangerous."
  },
  {
    id: "solbreaker",
    title: "VAIES ES-9 “Solbreaker”",
    subtitle: "Energy Shotgun — Vanthrudnir Arms Industries",
    image: "https://lh7-rt.googleusercontent.com/docsz/AD_4nXenEoZizAa6qeND7hnfz-_JBeRWa_wtIhyWEbnXWcoBQc0HRQpPYS7YggCYkjC5H0D9FUIRPRCMx3MeFOQcoZTMDMzrJhLEbGBzrYIzV4sk43hY87HVw_1OW00jeNL0idq2ueoxLxKSZfyWAwAN4g6U_Digaf8?key=GL6KKFbwoLvnh-YmGZdb6w",
    description: "Powered by a large stabilized radial crystal core, sealed in containment plating. The Solbreaker channels volatile crystal energy into burst wave plasma shells, detonating shortly after impact into expanding cones of thermal force. Highly experimental and hazardous to untrained users.\n\nSolbreaker Operator Instructions:\n1. Crystal Verification: Check containment seals for cracks/discoloration; do not activate if present.\n2. Charge Sequence: Pull priming lever to synchronize radial core.\n3. Firing: Expect heavy thermal discharge; maintain full stance.\n4. Cooling: Allow 5–7 seconds between shots.\n5. Safety Notes: Never store near unstable crystal samples; avoid firing in confined environments."
  },
  {
    id: "aetherline",
    title: "VAIES EAR-11 “Aetherline”",
    subtitle: "Magnetic Marksman Rifle — Vanthrudnir Arms Industries",
    image: "https://lh7-rt.googleusercontent.com/docsz/AD_4nXdArrE4niRtlFn05vXk495kpxzteqVR_1A_KoOQuE4aA_DwZ-Wv6NifY1Q_9WBcZFu0c9hePtI8mpTO60FXv299WDzrG9NH4YfCip_bIpl1XsjxJF2IplKGOXr8NHLFh-RsPVITGHDw-0-BL4PL03eNUTLiwo4?key=GL6KKFbwoLvnh-YmGZdb6w",
    description: "A precision magnetic rifle that propels ultra dense metal rods through segmented acceleration chambers. A refined coil pulse system provides consistent velocity and stable penetrator rounds. WARNING: special augments recommended to wield this rifle.\n\nAetherline Operator Instructions:\n1. Load Rods: Insert rod magazine carefully; avoid bare-hand contact due to magnetic sensitivity.\n2. Calibration: Activate coil alignment cycle to self-tune barrel harmonics.\n3. Firing: Exhale, steady aim, squeeze slowly for coil acceleration.\n4. Barrel Cooldown: After 5 shots, allow cooldown.\n5. Safety Notes: Keep the rifle at least 1 meter from strong magnetic emitters or active crystal cores."
  },
  {
    id: "longbite",
    title: "VAIES MMR-6 “Longbite”",
    subtitle: "Energy Assault Rifle — Vanthrudnir Arms Industries",
    image: "https://lh7-rt.googleusercontent.com/docsz/AD_4nXeL8aQLBCA3LGTcJs5aOy4scv-r0-nWES2b_b7w3KtA9k2uaZRk0EshAc3xW6X1xuIv5KdueCbQtcpEae1ZhFQvgLP7IWGltwuRttPyeOlr_v3Y41u6omnD-6VoYfVJ-yM9o7wnLOmkNfmj-ZjlqyetK7y0vIM?key=GL6KKFbwoLvnh-YmGZdb6w",
    description: "Built around a mid-sized stabilized radial crystal array, the Longbite fires consecutive charged energy darts — needle-like high-velocity bolts that partially disintegrate on contact. Select-fire system with exceptional range stability; requires careful crystal management during extended engagements.\n\nLongbite Operator Instructions:\n1. Crystal Initialization: Turn the rear dial until the rifle pings to sync the crystal lattice.\n2. Fire Modes: Toggle Single, Burst, Continuous Pulse via side selector.\n3. Heat Management: Monitor the front heat strip; reduce rate if it turns yellow.\n4. Battery Replace: Detach side panel to swap energy cell; crystal array retains sync for ~3 minutes.\n5. Safety Notes: Avoid firing through particulate smoke or dust clouds."
  }
];

let currentIndex = 0;

/* DOM refs */
const hero = document.getElementById("hero");
const gunTitle = document.getElementById("gunTitle");
const gunSub = document.getElementById("gunSub");
const gunDesc = document.getElementById("gunDesc");
const thumbList = document.getElementById("thumbList");
const indexLabel = document.getElementById("indexLabel");

function escapeHtml(s){ return String(s||'').replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/"/g,'&quot;'); }

function renderThumbs(){
  thumbList.innerHTML="";
  guns.forEach((g,i)=>{
    const t = document.createElement("div");
    t.className = "thumb" + (i===currentIndex?" active":"");
    t.dataset.index = i;
    t.innerHTML = `<img src="${g.image||''}" onerror="this.style.opacity=0.35;this.src='data:image/svg+xml;utf8,<svg xmlns=\\'http://www.w3.org/2000/svg\\' width=\\'200\\' height=\\'120\\'><rect width=\\'100%\\' height=\\'100%\\' fill=\\'%23011213\\'/><text x=\\'50%\\' y=\\'50%\\' fill=\\'%2300eaff\\' font-size=14 text-anchor=middle dominant-baseline=middle>IMAGE</text></svg>'" /><div class="meta"><div style="font-weight:700">${escapeHtml(g.title||'Untitled')}</div><div style="font-size:12px;color:var(--muted)">${escapeHtml(g.subtitle||'')}</div></div>`;
    t.addEventListener("click", ()=>{ gotoIndex(i); });
    thumbList.appendChild(t);
  });
}

function renderCurrent(){
  if(!guns.length){ hero.innerHTML='<div style="color:var(--muted)">No items</div>'; gunTitle.textContent='—'; gunSub.textContent='—'; gunDesc.textContent='No description'; indexLabel.textContent='0 / 0'; renderThumbs(); return; }
  const g = guns[currentIndex];
  hero.innerHTML = '';
  if(g.image){ const img=document.createElement("img"); img.src=g.image; img.alt=g.title||'image'; img.onerror = ()=>{ img.style.opacity=0.4; }; hero.appendChild(img); }
  else hero.innerHTML = '<div style="color:var(--muted)">No image</div>';
  gunTitle.textContent = g.title || 'Untitled';
  gunSub.textContent = g.subtitle || '';
  gunDesc.textContent = g.description || '';
  indexLabel.textContent = (currentIndex+1) + " / " + guns.length;
  renderThumbs();
}

function gotoIndex(i){ if(i<0) i=0; if(i>=guns.length) i=guns.length-1; currentIndex = i; renderCurrent(); }
document.getElementById("prevBtn").addEventListener("click", ()=>{ gotoIndex(currentIndex-1); });
document.getElementById("nextBtn").addEventListener("click", ()=>{ gotoIndex(currentIndex+1); });
document.addEventListener("keydown",(e)=>{ if(e.key==='ArrowLeft') gotoIndex(currentIndex-1); if(e.key==='ArrowRight') gotoIndex(currentIndex+1); });

/* signature / show catalog */
document.getElementById("signBtn").addEventListener("click", ()=>{
  const sig = document.getElementById("signature").value.trim();
  if(sig.length<2){ alert("Please enter a signature."); return; }
  document.getElementById("signatureArea").style.display="none";
  document.getElementById("catalogArea").style.display="block";
  // show initial item
  renderCurrent();
  // append boot log row
  const row = document.createElement("div"); row.textContent = "[LOG] Operator authorized • Catalog unlocked"; bootLog.appendChild(row); bootLog.scrollTop = bootLog.scrollHeight;
});

/* export CSV & clear */
document.getElementById("exportCsv").addEventListener("click", ()=>{
  if(!guns.length){ alert("No items to export."); return; }
  const rows=[["id","title","subtitle","image","description"]];
  guns.forEach(g=> rows.push([g.id,g.title,g.subtitle,g.image,g.description]));
  const csv = rows.map(r=> r.map(c=> `"${String(c||'').replace(/"/g,'""')}"`).join(",")).join("\n");
  const blob = new Blob([csv], {type:"text/csv;charset=utf-8;"}); const url = URL.createObjectURL(blob);
  const a=document.createElement("a"); a.href=url; a.download="vanthrudnir_catalog.csv"; a.click(); URL.revokeObjectURL(url);
});
document.getElementById("clearCatalog").addEventListener("click", ()=>{
  if(confirm("Clear the catalog from this session?")){ guns=[]; renderCurrent(); }
});

/* initial boot typing */
const bootLines = ["> Initializing Secure Terminal...","> Loading VAI-OS 7.3...","> Establishing encrypted link...","> Syncing gunsmith manifest..."];
const bootLog = document.getElementById("bootLog");
let bootIdx=0;
function doBoot(){ if(bootIdx>=bootLines.length) return; const d=document.createElement("div"); d.textContent=bootLines[bootIdx]; bootLog.appendChild(d); bootLog.scrollTop=bootLog.scrollHeight; bootIdx++; setTimeout(doBoot,500); }
doBoot();
</script>
</body>
</html>
